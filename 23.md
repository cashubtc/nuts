# NUT-23: HTTP Payment required

`optional`

---

This NUT describes how Cashu tokens can be used with HTTP 402 Payment Required responses to enable payments for HTTP resources.

### Server response

HTTP servers may respond with the HTTP status code 402 with a `X-Cashu` header containing a base64-encoded JSON object with the following fields:

- `unit`: The currency unit (e.g., "sat", "usd", "api")
- `amount`: The amount required in the specified unit
- `mints`: Array of mint URLs that the server accepts tokens from
- `pubkey` (optional): A [BUT-11](./11.md) public key the tokens should be locked to

### Client payment

After receiving a 402 response with a `X-Cashu` header, the client may retry the request with a `cashuB` token in the `X-Cashu` header as payment.

The token MUST be from one of the mints listed in the `mints` array, and MUST be of the same `unit` and greater than or equal to the `amount`

## Payment response

If the server receives tokens from a mint that is not in the `mints` array, an incorrect `unit`, or an insufficient amount of tokens it should respond with a HTTP `400` status code.
