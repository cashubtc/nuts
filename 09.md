NUT-09: Restore signatures
==========================

`optional` `used in: NUT-13`

---

In this document, we describe the process that allows wallets to recover blind signatures by requesting from the mint to reissue them by providing the corresponding blinded messages. This can be used during a backup recovery for a lost wallet (see [NUT-09][09]), for recovering the response of an interrupted swap request (see [NUT-03[03]]), or for requesting the witness that was used to unlock a token with a spending condition (for example for P2PK, see [NUT-11][11]).

The user's wallet can request the corresponding `BlindSignatures` for a set of `BlindedMessages` from the mint.

**Request** of `Alice`:

```http
POST https://mint.host:3338/v1/restore
```

With the data being of the form `PostRestoreRequest`:

```json
{
  "outputs": <Array[BlindedMessages]>
}
```

**Response** of `Bob`: 

The mint `Bob` then responds with a `PostRestoreResponse`.

```json
{
  "outputs": <Array[BlindedMessages]>,
  "signatures": <Array[BlindSignatures]>
}
```

The returned arrays `outputs` and `signatures` are of the same length and for every entry `outputs_i`, there is a corresponding entry `promises_i`. Each `BlindSignatures` contains the `amount` that it represents.

[00]: 00.md
[02]: 02.md
[03]: 03.md
[07]: 07.md
[09]: 09.md
[11]: 11.md
[tests]: tests/09-tests.md